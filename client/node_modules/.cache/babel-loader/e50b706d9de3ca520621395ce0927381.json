{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.verifyPseudoArgs = exports.pseudos = void 0;\nvar isLinkTag = namePseudo([\"a\", \"area\", \"link\"]); // While filters are precompiled, pseudos get called when they are needed\n\nexports.pseudos = {\n  empty: function (elem, _a) {\n    var adapter = _a.adapter;\n    return !adapter.getChildren(elem).some(function (elem) {\n      // FIXME: `getText` call is potentially expensive.\n      return adapter.isTag(elem) || adapter.getText(elem) !== \"\";\n    });\n  },\n  \"first-child\": function (elem, _a) {\n    var adapter = _a.adapter,\n        equals = _a.equals;\n    var firstChild = adapter.getSiblings(elem).find(function (elem) {\n      return adapter.isTag(elem);\n    });\n    return firstChild != null && equals(elem, firstChild);\n  },\n  \"last-child\": function (elem, _a) {\n    var adapter = _a.adapter,\n        equals = _a.equals;\n    var siblings = adapter.getSiblings(elem);\n\n    for (var i = siblings.length - 1; i >= 0; i--) {\n      if (equals(elem, siblings[i])) return true;\n      if (adapter.isTag(siblings[i])) break;\n    }\n\n    return false;\n  },\n  \"first-of-type\": function (elem, _a) {\n    var adapter = _a.adapter,\n        equals = _a.equals;\n    var siblings = adapter.getSiblings(elem);\n    var elemName = adapter.getName(elem);\n\n    for (var i = 0; i < siblings.length; i++) {\n      var currentSibling = siblings[i];\n      if (equals(elem, currentSibling)) return true;\n\n      if (adapter.isTag(currentSibling) && adapter.getName(currentSibling) === elemName) {\n        break;\n      }\n    }\n\n    return false;\n  },\n  \"last-of-type\": function (elem, _a) {\n    var adapter = _a.adapter,\n        equals = _a.equals;\n    var siblings = adapter.getSiblings(elem);\n    var elemName = adapter.getName(elem);\n\n    for (var i = siblings.length - 1; i >= 0; i--) {\n      var currentSibling = siblings[i];\n      if (equals(elem, currentSibling)) return true;\n\n      if (adapter.isTag(currentSibling) && adapter.getName(currentSibling) === elemName) {\n        break;\n      }\n    }\n\n    return false;\n  },\n  \"only-of-type\": function (elem, _a) {\n    var adapter = _a.adapter,\n        equals = _a.equals;\n    var elemName = adapter.getName(elem);\n    return adapter.getSiblings(elem).every(function (sibling) {\n      return equals(elem, sibling) || !adapter.isTag(sibling) || adapter.getName(sibling) !== elemName;\n    });\n  },\n  \"only-child\": function (elem, _a) {\n    var adapter = _a.adapter,\n        equals = _a.equals;\n    return adapter.getSiblings(elem).every(function (sibling) {\n      return equals(elem, sibling) || !adapter.isTag(sibling);\n    });\n  },\n  // :matches(a, area, link)[href]\n  \"any-link\": function (elem, options) {\n    return isLinkTag(elem, options) && options.adapter.hasAttrib(elem, \"href\");\n  },\n  // :any-link:not(:visited)\n  link: function (elem, options) {\n    var _a, _b;\n\n    return ((_b = (_a = options.adapter).isVisited) === null || _b === void 0 ? void 0 : _b.call(_a, elem)) !== true && exports.pseudos[\"any-link\"](elem, options);\n  },\n\n  /*\n   * Forms\n   * to consider: :target\n   */\n  // :matches([selected], select:not([multiple]):not(> option[selected]) > option:first-of-type)\n  selected: function (elem, _a) {\n    var adapter = _a.adapter,\n        equals = _a.equals;\n    if (adapter.hasAttrib(elem, \"selected\")) return true;else if (adapter.getName(elem) !== \"option\") return false; // The first <option> in a <select> is also selected\n\n    var parent = adapter.getParent(elem);\n\n    if (!parent || !adapter.isTag(parent) || adapter.getName(parent) !== \"select\" || adapter.hasAttrib(parent, \"multiple\")) {\n      return false;\n    }\n\n    var siblings = adapter.getChildren(parent);\n    var sawElem = false;\n\n    for (var i = 0; i < siblings.length; i++) {\n      var currentSibling = siblings[i];\n\n      if (adapter.isTag(currentSibling)) {\n        if (equals(elem, currentSibling)) {\n          sawElem = true;\n        } else if (!sawElem) {\n          return false;\n        } else if (adapter.hasAttrib(currentSibling, \"selected\")) {\n          return false;\n        }\n      }\n    }\n\n    return sawElem;\n  },\n\n  /*\n   * https://html.spec.whatwg.org/multipage/scripting.html#disabled-elements\n   * :matches(\n   *   :matches(button, input, select, textarea, menuitem, optgroup, option)[disabled],\n   *   optgroup[disabled] > option),\n   *  fieldset[disabled] * //TODO not child of first <legend>\n   * )\n   */\n  disabled: function (elem, _a) {\n    var adapter = _a.adapter;\n    return adapter.hasAttrib(elem, \"disabled\");\n  },\n  enabled: function (elem, _a) {\n    var adapter = _a.adapter;\n    return !adapter.hasAttrib(elem, \"disabled\");\n  },\n  // :matches(:matches(:radio, :checkbox)[checked], :selected) (TODO menuitem)\n  checked: function (elem, options) {\n    return options.adapter.hasAttrib(elem, \"checked\") || exports.pseudos.selected(elem, options);\n  },\n  // :matches(input, select, textarea)[required]\n  required: function (elem, _a) {\n    var adapter = _a.adapter;\n    return adapter.hasAttrib(elem, \"required\");\n  },\n  // :matches(input, select, textarea):not([required])\n  optional: function (elem, _a) {\n    var adapter = _a.adapter;\n    return !adapter.hasAttrib(elem, \"required\");\n  },\n  // JQuery extensions\n  // :not(:empty)\n  parent: function (elem, options) {\n    return !exports.pseudos.empty(elem, options);\n  },\n  // :matches(h1, h2, h3, h4, h5, h6)\n  header: namePseudo([\"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\"]),\n  // :matches(button, input[type=button])\n  button: function (elem, _a) {\n    var adapter = _a.adapter;\n    var name = adapter.getName(elem);\n    return name === \"button\" || name === \"input\" && adapter.getAttributeValue(elem, \"type\") === \"button\";\n  },\n  // :matches(input, textarea, select, button)\n  input: namePseudo([\"input\", \"textarea\", \"select\", \"button\"]),\n  // `input:matches(:not([type!='']), [type='text' i])`\n  text: function (elem, _a) {\n    var adapter = _a.adapter;\n    var type = adapter.getAttributeValue(elem, \"type\");\n    return adapter.getName(elem) === \"input\" && (!type || type.toLowerCase() === \"text\");\n  }\n};\n\nfunction namePseudo(names) {\n  if (typeof Set !== \"undefined\") {\n    var nameSet_1 = new Set(names);\n    return function (elem, _a) {\n      var adapter = _a.adapter;\n      return nameSet_1.has(adapter.getName(elem));\n    };\n  }\n\n  return function (elem, _a) {\n    var adapter = _a.adapter;\n    return names.includes(adapter.getName(elem));\n  };\n}\n\nfunction verifyPseudoArgs(func, name, subselect) {\n  if (subselect === null) {\n    if (func.length > 2 && name !== \"scope\") {\n      throw new Error(\"pseudo-selector :\" + name + \" requires an argument\");\n    }\n  } else {\n    if (func.length === 2) {\n      throw new Error(\"pseudo-selector :\" + name + \" doesn't have any arguments\");\n    }\n  }\n}\n\nexports.verifyPseudoArgs = verifyPseudoArgs;","map":{"version":3,"sources":["/home/conrad/Documents/tarot/tarot-cards/node_modules/cheerio-select-tmp/node_modules/css-select/lib/pseudo-selectors/pseudos.js"],"names":["Object","defineProperty","exports","value","verifyPseudoArgs","pseudos","isLinkTag","namePseudo","empty","elem","_a","adapter","getChildren","some","isTag","getText","equals","firstChild","getSiblings","find","siblings","i","length","elemName","getName","currentSibling","every","sibling","options","hasAttrib","link","_b","isVisited","call","selected","parent","getParent","sawElem","disabled","enabled","checked","required","optional","header","button","name","getAttributeValue","input","text","type","toLowerCase","names","Set","nameSet_1","has","includes","func","subselect","Error"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.verifyPseudoArgs = exports.pseudos = void 0;\nvar isLinkTag = namePseudo([\"a\", \"area\", \"link\"]);\n// While filters are precompiled, pseudos get called when they are needed\nexports.pseudos = {\n    empty: function (elem, _a) {\n        var adapter = _a.adapter;\n        return !adapter.getChildren(elem).some(function (elem) {\n            // FIXME: `getText` call is potentially expensive.\n            return adapter.isTag(elem) || adapter.getText(elem) !== \"\";\n        });\n    },\n    \"first-child\": function (elem, _a) {\n        var adapter = _a.adapter, equals = _a.equals;\n        var firstChild = adapter\n            .getSiblings(elem)\n            .find(function (elem) { return adapter.isTag(elem); });\n        return firstChild != null && equals(elem, firstChild);\n    },\n    \"last-child\": function (elem, _a) {\n        var adapter = _a.adapter, equals = _a.equals;\n        var siblings = adapter.getSiblings(elem);\n        for (var i = siblings.length - 1; i >= 0; i--) {\n            if (equals(elem, siblings[i]))\n                return true;\n            if (adapter.isTag(siblings[i]))\n                break;\n        }\n        return false;\n    },\n    \"first-of-type\": function (elem, _a) {\n        var adapter = _a.adapter, equals = _a.equals;\n        var siblings = adapter.getSiblings(elem);\n        var elemName = adapter.getName(elem);\n        for (var i = 0; i < siblings.length; i++) {\n            var currentSibling = siblings[i];\n            if (equals(elem, currentSibling))\n                return true;\n            if (adapter.isTag(currentSibling) &&\n                adapter.getName(currentSibling) === elemName) {\n                break;\n            }\n        }\n        return false;\n    },\n    \"last-of-type\": function (elem, _a) {\n        var adapter = _a.adapter, equals = _a.equals;\n        var siblings = adapter.getSiblings(elem);\n        var elemName = adapter.getName(elem);\n        for (var i = siblings.length - 1; i >= 0; i--) {\n            var currentSibling = siblings[i];\n            if (equals(elem, currentSibling))\n                return true;\n            if (adapter.isTag(currentSibling) &&\n                adapter.getName(currentSibling) === elemName) {\n                break;\n            }\n        }\n        return false;\n    },\n    \"only-of-type\": function (elem, _a) {\n        var adapter = _a.adapter, equals = _a.equals;\n        var elemName = adapter.getName(elem);\n        return adapter\n            .getSiblings(elem)\n            .every(function (sibling) {\n            return equals(elem, sibling) ||\n                !adapter.isTag(sibling) ||\n                adapter.getName(sibling) !== elemName;\n        });\n    },\n    \"only-child\": function (elem, _a) {\n        var adapter = _a.adapter, equals = _a.equals;\n        return adapter\n            .getSiblings(elem)\n            .every(function (sibling) { return equals(elem, sibling) || !adapter.isTag(sibling); });\n    },\n    // :matches(a, area, link)[href]\n    \"any-link\": function (elem, options) {\n        return (isLinkTag(elem, options) && options.adapter.hasAttrib(elem, \"href\"));\n    },\n    // :any-link:not(:visited)\n    link: function (elem, options) {\n        var _a, _b;\n        return (((_b = (_a = options.adapter).isVisited) === null || _b === void 0 ? void 0 : _b.call(_a, elem)) !== true &&\n            exports.pseudos[\"any-link\"](elem, options));\n    },\n    /*\n     * Forms\n     * to consider: :target\n     */\n    // :matches([selected], select:not([multiple]):not(> option[selected]) > option:first-of-type)\n    selected: function (elem, _a) {\n        var adapter = _a.adapter, equals = _a.equals;\n        if (adapter.hasAttrib(elem, \"selected\"))\n            return true;\n        else if (adapter.getName(elem) !== \"option\")\n            return false;\n        // The first <option> in a <select> is also selected\n        var parent = adapter.getParent(elem);\n        if (!parent ||\n            !adapter.isTag(parent) ||\n            adapter.getName(parent) !== \"select\" ||\n            adapter.hasAttrib(parent, \"multiple\")) {\n            return false;\n        }\n        var siblings = adapter.getChildren(parent);\n        var sawElem = false;\n        for (var i = 0; i < siblings.length; i++) {\n            var currentSibling = siblings[i];\n            if (adapter.isTag(currentSibling)) {\n                if (equals(elem, currentSibling)) {\n                    sawElem = true;\n                }\n                else if (!sawElem) {\n                    return false;\n                }\n                else if (adapter.hasAttrib(currentSibling, \"selected\")) {\n                    return false;\n                }\n            }\n        }\n        return sawElem;\n    },\n    /*\n     * https://html.spec.whatwg.org/multipage/scripting.html#disabled-elements\n     * :matches(\n     *   :matches(button, input, select, textarea, menuitem, optgroup, option)[disabled],\n     *   optgroup[disabled] > option),\n     *  fieldset[disabled] * //TODO not child of first <legend>\n     * )\n     */\n    disabled: function (elem, _a) {\n        var adapter = _a.adapter;\n        return adapter.hasAttrib(elem, \"disabled\");\n    },\n    enabled: function (elem, _a) {\n        var adapter = _a.adapter;\n        return !adapter.hasAttrib(elem, \"disabled\");\n    },\n    // :matches(:matches(:radio, :checkbox)[checked], :selected) (TODO menuitem)\n    checked: function (elem, options) {\n        return (options.adapter.hasAttrib(elem, \"checked\") ||\n            exports.pseudos.selected(elem, options));\n    },\n    // :matches(input, select, textarea)[required]\n    required: function (elem, _a) {\n        var adapter = _a.adapter;\n        return adapter.hasAttrib(elem, \"required\");\n    },\n    // :matches(input, select, textarea):not([required])\n    optional: function (elem, _a) {\n        var adapter = _a.adapter;\n        return !adapter.hasAttrib(elem, \"required\");\n    },\n    // JQuery extensions\n    // :not(:empty)\n    parent: function (elem, options) {\n        return !exports.pseudos.empty(elem, options);\n    },\n    // :matches(h1, h2, h3, h4, h5, h6)\n    header: namePseudo([\"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\"]),\n    // :matches(button, input[type=button])\n    button: function (elem, _a) {\n        var adapter = _a.adapter;\n        var name = adapter.getName(elem);\n        return (name === \"button\" ||\n            (name === \"input\" &&\n                adapter.getAttributeValue(elem, \"type\") === \"button\"));\n    },\n    // :matches(input, textarea, select, button)\n    input: namePseudo([\"input\", \"textarea\", \"select\", \"button\"]),\n    // `input:matches(:not([type!='']), [type='text' i])`\n    text: function (elem, _a) {\n        var adapter = _a.adapter;\n        var type = adapter.getAttributeValue(elem, \"type\");\n        return (adapter.getName(elem) === \"input\" &&\n            (!type || type.toLowerCase() === \"text\"));\n    },\n};\nfunction namePseudo(names) {\n    if (typeof Set !== \"undefined\") {\n        var nameSet_1 = new Set(names);\n        return function (elem, _a) {\n            var adapter = _a.adapter;\n            return nameSet_1.has(adapter.getName(elem));\n        };\n    }\n    return function (elem, _a) {\n        var adapter = _a.adapter;\n        return names.includes(adapter.getName(elem));\n    };\n}\nfunction verifyPseudoArgs(func, name, subselect) {\n    if (subselect === null) {\n        if (func.length > 2 && name !== \"scope\") {\n            throw new Error(\"pseudo-selector :\" + name + \" requires an argument\");\n        }\n    }\n    else {\n        if (func.length === 2) {\n            throw new Error(\"pseudo-selector :\" + name + \" doesn't have any arguments\");\n        }\n    }\n}\nexports.verifyPseudoArgs = verifyPseudoArgs;\n"]},"metadata":{},"sourceType":"script"}