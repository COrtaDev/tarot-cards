{"ast":null,"code":"const querystring = require(\"querystring\");\n\nconst cleanJoin = require(\"./url.js\"); // Finalize request options and stuff before sending the request.\n\n\nmodule.exports = req => {\n  const url = cleanJoin(req);\n\n  if (Object.keys(url.query).length) {\n    url.path = url.path + `?${querystring.stringify(url.query)}`;\n  }\n\n  url.method = req.method;\n  url.headers = req.headers;\n  delete url.query;\n  if (req.form) req.set(\"Content-Type\", req.form.contentType);\n  return url;\n};","map":{"version":3,"sources":["/home/conrad/Documents/tarot/tarot-cards/node_modules/ladybug-fetch/src/options.js"],"names":["querystring","require","cleanJoin","module","exports","req","url","Object","keys","query","length","path","stringify","method","headers","form","set","contentType"],"mappings":"AAAA,MAAMA,WAAW,GAAGC,OAAO,CAAC,aAAD,CAA3B;;AACA,MAAMC,SAAS,GAAGD,OAAO,CAAC,UAAD,CAAzB,C,CAEA;;;AACAE,MAAM,CAACC,OAAP,GAAkBC,GAAD,IAAS;AACxB,QAAMC,GAAG,GAAGJ,SAAS,CAACG,GAAD,CAArB;;AACA,MAAGE,MAAM,CAACC,IAAP,CAAYF,GAAG,CAACG,KAAhB,EAAuBC,MAA1B,EAAkC;AAChCJ,IAAAA,GAAG,CAACK,IAAJ,GAAWL,GAAG,CAACK,IAAJ,GAAY,IAAGX,WAAW,CAACY,SAAZ,CAAsBN,GAAG,CAACG,KAA1B,CAAiC,EAA3D;AACD;;AACDH,EAAAA,GAAG,CAACO,MAAJ,GAAaR,GAAG,CAACQ,MAAjB;AACAP,EAAAA,GAAG,CAACQ,OAAJ,GAAcT,GAAG,CAACS,OAAlB;AACA,SAAOR,GAAG,CAACG,KAAX;AACA,MAAGJ,GAAG,CAACU,IAAP,EAAaV,GAAG,CAACW,GAAJ,CAAQ,cAAR,EAAwBX,GAAG,CAACU,IAAJ,CAASE,WAAjC;AACb,SAAOX,GAAP;AACD,CAVD","sourcesContent":["const querystring = require(\"querystring\");\nconst cleanJoin = require(\"./url.js\");\n\n// Finalize request options and stuff before sending the request.\nmodule.exports = (req) => {\n  const url = cleanJoin(req);\n  if(Object.keys(url.query).length) {\n    url.path = url.path + `?${querystring.stringify(url.query)}`;\n  }\n  url.method = req.method;\n  url.headers = req.headers;\n  delete url.query;\n  if(req.form) req.set(\"Content-Type\", req.form.contentType);\n  return url;\n};\n"]},"metadata":{},"sourceType":"script"}