{"ast":null,"code":"'use strict';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar format = require('./format');\n\nfunction fillExcept(info, fillExceptKeys, metadataKey) {\n  var savedKeys = fillExceptKeys.reduce(function (acc, key) {\n    acc[key] = info[key];\n    delete info[key];\n    return acc;\n  }, {});\n  var metadata = Object.keys(info).reduce(function (acc, key) {\n    acc[key] = info[key];\n    delete info[key];\n    return acc;\n  }, {});\n  Object.assign(info, savedKeys, _defineProperty({}, metadataKey, metadata));\n  return info;\n}\n\nfunction fillWith(info, fillWithKeys, metadataKey) {\n  info[metadataKey] = fillWithKeys.reduce(function (acc, key) {\n    acc[key] = info[key];\n    delete info[key];\n    return acc;\n  }, {});\n  return info;\n}\n/**\n * Adds in a \"metadata\" object to collect extraneous data, similar to the metadata\n * object in winston 2.x.\n */\n\n\nmodule.exports = format(function (info) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var metadataKey = 'metadata';\n\n  if (opts.key) {\n    metadataKey = opts.key;\n  }\n\n  var fillExceptKeys = [];\n\n  if (!opts.fillExcept && !opts.fillWith) {\n    fillExceptKeys.push('level');\n    fillExceptKeys.push('message');\n  }\n\n  if (opts.fillExcept) {\n    fillExceptKeys = opts.fillExcept;\n  }\n\n  if (fillExceptKeys.length > 0) {\n    return fillExcept(info, fillExceptKeys, metadataKey);\n  }\n\n  if (opts.fillWith) {\n    return fillWith(info, opts.fillWith, metadataKey);\n  }\n\n  return info;\n});","map":{"version":3,"sources":["/home/conrad/Documents/tarot/tarot-cards/node_modules/logform/dist/metadata.js"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","format","require","fillExcept","info","fillExceptKeys","metadataKey","savedKeys","reduce","acc","metadata","keys","assign","fillWith","fillWithKeys","module","exports","opts","arguments","length","undefined","push"],"mappings":"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","sourcesContent":["'use strict';\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar format = require('./format');\n\nfunction fillExcept(info, fillExceptKeys, metadataKey) {\n  var savedKeys = fillExceptKeys.reduce(function (acc, key) {\n    acc[key] = info[key];\n    delete info[key];\n    return acc;\n  }, {});\n  var metadata = Object.keys(info).reduce(function (acc, key) {\n    acc[key] = info[key];\n    delete info[key];\n    return acc;\n  }, {});\n  Object.assign(info, savedKeys, _defineProperty({}, metadataKey, metadata));\n  return info;\n}\n\nfunction fillWith(info, fillWithKeys, metadataKey) {\n  info[metadataKey] = fillWithKeys.reduce(function (acc, key) {\n    acc[key] = info[key];\n    delete info[key];\n    return acc;\n  }, {});\n  return info;\n}\n/**\n * Adds in a \"metadata\" object to collect extraneous data, similar to the metadata\n * object in winston 2.x.\n */\n\n\nmodule.exports = format(function (info) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var metadataKey = 'metadata';\n\n  if (opts.key) {\n    metadataKey = opts.key;\n  }\n\n  var fillExceptKeys = [];\n\n  if (!opts.fillExcept && !opts.fillWith) {\n    fillExceptKeys.push('level');\n    fillExceptKeys.push('message');\n  }\n\n  if (opts.fillExcept) {\n    fillExceptKeys = opts.fillExcept;\n  }\n\n  if (fillExceptKeys.length > 0) {\n    return fillExcept(info, fillExceptKeys, metadataKey);\n  }\n\n  if (opts.fillWith) {\n    return fillWith(info, opts.fillWith, metadataKey);\n  }\n\n  return info;\n});"]},"metadata":{},"sourceType":"script"}